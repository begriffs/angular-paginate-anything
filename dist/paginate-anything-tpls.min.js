// angular-paginate-anything - v4.1.2
!function(){"use strict";function a(a){var b=[1,2.5,5];return Math.floor(Math.pow(10,Math.floor(a/3))*b[a%3])}function b(a){if(1>a)return 0;var b=Math.floor(Math.log(a)/Math.LN10),c=a/(2.5*Math.pow(10,b));return c>=3&&(b++,c=0),3*b+Math.round(Math.min(2,c))}function c(c){return c===1/0?1/0:a(b(c))}function d(a,b){return a=angular.isArray(a)?a:[a],b?a.concat(b):a}function e(a){var b=a&&a.match(/^(?:items )?(\d+)-(\d+)\/(\d+|\*)$/);return b?{from:+b[1],to:+b[2],total:"*"===b[3]?1/0:+b[3]}:"*/0"===a?{total:0}:null}function f(a){return a.to-a.from+1}angular.module("bgf.paginateAnything",[]).directive("bgfPagination",function(){var g=3,h=250,i=50;return{restrict:"AE",scope:{url:"=",collection:"=",urlParams:"=?",headers:"=?",page:"=?",perPage:"=?",perPagePresets:"=?",autoPresets:"=?",clientLimit:"=?",linkGroupSize:"=?",reloadPage:"=?",size:"=?",passive:"@",transformResponse:"=?",method:"@",postData:"=?",getDataFn:"&?",getDataFnContext:"=?",numPages:"=?",numItems:"=?",serverLimit:"=?",rangeFrom:"=?",rangeTo:"=?"},templateUrl:function(a,b){return b.templateUrl||"src/paginate-anything.html"},replace:!0,controller:["$scope","$http",function(j,k){function l(c){function g(){return void 0!==j.getDataFnContext&&"function"==typeof j.getDataFn?j.getDataFn().call(j.getDataFnContext,{method:j.method||"GET",url:j.url,params:j.urlParams,data:j.postData,headers:angular.extend({},j.headers,{"Range-Unit":"items",Range:[c.from,c.to].join("-")}),transformResponse:d(k.defaults.transformResponse,j.transformResponse)}):k({method:j.method||"GET",url:j.url,params:j.urlParams,data:j.postData,headers:angular.extend({},j.headers,{"Range-Unit":"items",Range:[c.from,c.to].join("-")}),transformResponse:d(k.defaults.transformResponse,j.transformResponse)})}j.$emit("pagination:loadStart",c),g().success(function(d,g,h,k){var l=e(h("Content-Range"));if(204===g||l&&0===l.total?(j.numItems=0,j.collection=[]):(j.numItems=l?l.total:d.length,j.collection=d||[]),l&&(j.rangeFrom=l.from,j.rangeTo=l.to,f(l)<l.total&&(c.to<l.total-1||l.to<l.total-1&&l.total<c.to)&&(!j.perPage||f(l)<j.perPage))){if(j.autoPresets){var m=b(f(l));a(m)>f(l)&&m--,j.serverLimit=a(m)}else j.serverLimit=f(l);j.perPage=j.Math.min(j.serverLimit,j.clientLimit)}j.numPages=Math.ceil(j.numItems/(j.perPage||i)),j.$emit("pagination:loadPage",g,k)}).error(function(a,b,c,d){j.$emit("pagination:error",b,d)})}j.reloadPage=!1,j.serverLimit=1/0,j.Math=window.Math,"boolean"!=typeof j.autoPresets&&(j.autoPresets=!0);var m=j.linkGroupSize,n=j.clientLimit;j.linkGroupSize="number"==typeof m?m:g,j.clientLimit="number"==typeof n?n:h,j.updatePresets=function(){if(j.autoPresets){var c,d=[];for(c=Math.min(3,b(j.perPage||i));c<=b(Math.min(j.clientLimit,j.serverLimit));c++)d.push(a(c));j.perPagePresets=d}else j.perPagePresets=j.perPagePresets.filter(function(a){return a<=j.serverLimit}).concat([j.serverLimit])},j.gotoPage=function(a){0>a||a*j.perPage>=j.numItems||(j.page=a)},j.linkGroupFirst=function(){var a=Math.max(0,j.linkGroupSize-(j.numPages-1-(j.page+2)));return Math.max(0,j.page-(j.linkGroupSize+a))},j.linkGroupLast=function(){var a=Math.max(0,j.linkGroupSize-(j.page-2));return Math.min(j.numPages-1,j.page+(j.linkGroupSize+a))},j.isFinite=function(){return j.numPages<1/0},j.page=j.page||0,j.size=j.size||"md",j.autoPresets&&j.updatePresets(),j.$watch("page",function(a,b){if("true"!==j.passive&&a!==b){if(0>a||a*j.perPage>=j.numItems)return;var d=j.perPage||i;j.autoPresets&&(d=c(d)),l({from:a*d,to:(a+1)*d-1})}}),j.$watch("perPage",function(a,b){if("true"!==j.passive&&"number"==typeof b&&a!==b){var c=j.page*b,d=Math.floor(c/a);j.page!==d?j.page=d:l({from:j.page*a,to:(j.page+1)*a-1})}}),j.$watch("serverLimit",function(a,b){"true"!==j.passive&&a!==b&&j.updatePresets()}),j.$watch("url",function(a,b){"true"!==j.passive&&a!==b&&(0===j.page?j.reloadPage=!0:j.page=0)}),j.$watch("urlParams",function(a,b){"true"!==j.passive&&(angular.equals(a,b)||(0===j.page?j.reloadPage=!0:j.page=0))},!0),j.$watch("headers",function(a,b){"true"!==j.passive&&(angular.equals(a,b)||(0===j.page?j.reloadPage=!0:j.page=0))},!0),j.$watch("reloadPage",function(a,b){"true"!==j.passive&&a===!0&&b===!1&&(j.reloadPage=!1,l({from:j.page*j.perPage,to:(j.page+1)*j.perPage-1}))}),j.$watch("transformResponse",function(a,b){"true"!==j.passive&&a&&b&&(angular.equals(a.toString(),b.toString())||(0===j.page?j.reloadPage=!0:j.page=0))},!0);var o=j.perPage||i;j.autoPresets&&(o=c(o)),l({from:j.page*o,to:(j.page+1)*o-1})}]}}).filter("makeRange",function(){return function(a){var b,c;switch(a.length){case 1:b=0,c=parseInt(a[0],10)-1;break;case 2:b=parseInt(a[0],10),c=parseInt(a[1],10);break;default:return a}for(var d=[],e=b;c>=e;e++)d.push(e);return d}})}(),angular.module("bgf.paginateAnything").run(["$templateCache",function(a){"use strict";a.put("src/paginate-anything.html",'<div class=paginate-anything><ul class="pagination pagination-{{size}} links" ng-if="numPages > 1"><li ng-class="{disabled: page <= 0}"><a href ng-click=gotoPage(page-1)>&laquo;</a></li><li ng-if="linkGroupFirst() > 0"><a href ng-click=gotoPage(0)>1</a></li><li ng-if="linkGroupFirst() > 1" class=disabled><a href>&hellip;</a></li><li ng-repeat="p in [linkGroupFirst(), linkGroupLast()] | makeRange" ng-class="{active: p === page}"><a href ng-click=gotoPage(p)>{{p+1}}</a></li><li ng-if="linkGroupLast() < numPages - 2" class=disabled><a href>&hellip;</a></li><li ng-if="isFinite() && linkGroupLast() < numPages - 1"><a href ng-click=gotoPage(numPages-1)>{{numPages}}</a></li><li ng-class="{disabled: page >= numPages - 1}"><a href ng-click=gotoPage(page+1)>&raquo;</a></li></ul><div class=per-page ng-if="perPagePresets.length > 0 && numPages > 1"><select ng-model=$parent.perPage ng-options="p for p in perPagePresets"></select>per page</div></div>')}]);